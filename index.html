<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="tracking-styles.css">
    <link rel="stylesheet" href="trip-tracking-styles.css">
    <link rel="stylesheet" href="driver-styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blinriderd</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Blinriderd - La mejor app de viajes y taxi. Solicita tu viaje de forma r√°pida y segura. Conductores verificados, tarifas justas y servicio 24/7.">
    <meta name="keywords" content="taxi, viajes, transporte, app taxi, solicitar viaje, conductor, blinriderd, uber, cabify, transporte urbano">
    <meta name="author" content="Blinriderd">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Spanish">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Blinriderd - App de Viajes y Taxi">
    <meta property="og:description" content="Solicita tu viaje de forma r√°pida y segura con Blinriderd. Conductores verificados y tarifas justas.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://blinriderd.com">
    <meta property="og:image" content="https://ik.imagekit.io/ajkl5a98u/fondo%20negro-modified%20-%20cortada%20en%20circulo.png?updatedAt=1756409004381">
    <meta property="og:site_name" content="Blinriderd">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Blinriderd">
    <meta name="twitter:description" content="Solicita tu viaje de forma r√°pida y segura con Blinriderd.">
    <meta name="twitter:image" content="https://ik.imagekit.io/ajkl5a98u/fondo%20negro-modified%20-%20cortada%20en%20circulo.png?updatedAt=1756409004381">
    
    <!-- Additional SEO -->
    <meta name="theme-color" content="#3B82F6">
    <link rel="canonical" href="https://blinriderd.com">
    <meta name="geo.region" content="DO">
    <meta name="geo.placename" content="Rep√∫blica Dominicana">
    <meta name="geo.position" content="18.4861;-69.9312">
    <meta name="ICBM" content="18.4861, -69.9312">
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, updateProfile } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
        import { getFirestore, doc, setDoc, addDoc, getDoc, collection, query, where, onSnapshot, updateDoc } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyC64S8YDVEoeyyteRix_TyItBWD49rDZbo",
            authDomain: "golibre-27e90.firebaseapp.com",
            databaseURL: "https://golibre-27e90-default-rtdb.firebaseio.com",
            projectId: "golibre-27e90",
            storageBucket: "golibre-27e90.firebasestorage.app",
            messagingSenderId: "936790658838",
            appId: "1:936790658838:web:cdbe7ea54b5b07cf654a37",
            measurementId: "G-7QJGPLHLZY"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        window.auth = auth;
        window.db = db;
        window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.signInWithEmailAndPassword = signInWithEmailAndPassword;
        window.updateProfile = updateProfile;
        window.setDoc = setDoc;
        window.doc = doc;
        window.collection = collection;
        window.query = query;
        window.where = where;
        window.onSnapshot = onSnapshot;
        window.updateDoc = updateDoc;
        window.addDoc = addDoc;
        window.getDoc = getDoc;
    </script>
    <script src="script.js" defer></script>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <!-- Barra de tareas superior -->
    <div id="navbar" class="navbar" style="display: none;">
        <button class="logout-btn" onclick="logout()">Salir</button>
        <div class="navbar-content">
            <div class="nav-item active" onclick="showSection('home')">
                <div class="nav-icon">üè†</div>
                <div class="nav-label">Home</div>
            </div>
            <div class="nav-item" onclick="showSection('profile')">
                <div class="nav-icon">üë§</div>
                <div class="nav-label">Perfil</div>
            </div>
            <div class="nav-item" onclick="showSection('activity')">
                <div class="nav-icon">üìà</div>
                <div class="nav-label">Actividad</div>
            </div>
        </div>
    </div>
    
    <!-- Barra de navegaci√≥n del conductor -->
    <div id="driverNavbar" class="navbar" style="display: none;">
        <button class="logout-btn" onclick="logout()">Salir</button>
        <div class="navbar-content">
            <div class="nav-item active" onclick="showDriverSection('trips')">
                <div class="nav-icon">üöó</div>
                <div class="nav-label">Viajes</div>
            </div>
            <div class="nav-item" onclick="showDriverSection('profile')">
                <div class="nav-icon">üë§</div>
                <div class="nav-label">Perfil</div>
            </div>
            <div class="nav-item" onclick="showDriverSection('earnings')">
                <div class="nav-icon">üí∞</div>
                <div class="nav-label">Ganancias</div>
            </div>
        </div>
    </div>
    
    <!-- Interfaz principal despu√©s del login -->
    <div id="mainApp" class="main-app" style="display: none;">
        <div class="app-content">
            <div class="welcome-section">
                <h1 id="welcomeTitle">¬°Bienvenido!</h1>
                <p id="welcomeSubtitle">Tu viaje comienza aqu√≠</p>
            </div>
            
            <button class="main-ride-btn" onclick="requestRide()">
                Pedir un blinriderd
            </button>
        </div>
    </div>
    
    <!-- Interfaz del conductor -->
    <div id="driverApp" class="main-app" style="display: none;">
        <div class="app-content">
            <div class="driver-status">
                <div class="status-indicator offline" id="driverStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Desconectado</span>
                </div>
                <button class="toggle-status-btn" onclick="toggleDriverStatus()" id="statusBtn">Conectarse</button>
            </div>
            
            <div id="driverContent">
                <div class="no-trips">
                    <h2>üöï Esperando viajes...</h2>
                    <p>Con√©ctate para recibir solicitudes</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container" id="authContainer">
        <div class="auth-card">
            <div class="logo-section">
                <img src="https://ik.imagekit.io/ajkl5a98u/fondo%20negro-modified%20-%20cortada%20en%20circulo.png?updatedAt=1756409004381" alt="Blinriderd Logo" class="app-logo">
                <h1 class="app-title">Blinriderd</h1>
                <p class="app-subtitle">Tu viaje comienza aqu√≠</p>
            </div>



            <div class="form-container">
                <!-- Dashboard Usuario -->
                <div id="user-dashboard" class="form-section">
                    <div class="user-type-indicator">
                        <h3>Blinriderd te da la bienvenida</h3>
                        <p id="welcomeMessage">¬°Listo para tu pr√≥ximo viaje!</p>
                    </div>
                    
                    <button class="ride-btn" onclick="requestRide()">Pedir un blinriderd</button>
                </div>

                <!-- Formulario Usuario -->
                <div id="user-form" class="form-section active">
                <div class="user-type-indicator">
                    <h3>Registro de Usuario</h3>
                    <p>√önete y solicita viajes seguros</p>
                </div>

                <form id="userRegistrationForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userFirstName">Nombre</label>
                            <input type="text" id="userFirstName" name="firstName" placeholder="Tu nombre" required>
                        </div>
                        <div class="form-group">
                            <label for="userLastName">Apellido</label>
                            <input type="text" id="userLastName" name="lastName" placeholder="Tu apellido" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="userEmail">Correo Electr√≥nico</label>
                        <input type="email" id="userEmail" name="email" placeholder="ejemplo@correo.com" required>
                    </div>

                    <div class="form-group">
                        <label for="userPhone">Tel√©fono</label>
                        <input type="tel" id="userPhone" name="phone" placeholder="+1 (000) 000-0000" required>
                    </div>

                    <div class="form-group">
                        <label for="userPassword">Contrase√±a</label>
                        <input type="password" id="userPassword" name="password" placeholder="M√≠nimo 8 caracteres" required>
                    </div>

                    <div class="form-group">
                        <label for="userConfirmPassword">Confirmar Contrase√±a</label>
                        <input type="password" id="userConfirmPassword" name="confirmPassword" placeholder="Repite tu contrase√±a" required>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="userTerms" class="checkbox" required>
                        <label for="userTerms" class="checkbox-label">Acepto los t√©rminos y condiciones</label>
                    </div>

                    <button type="submit" class="submit-btn">Crear Cuenta</button>
                </form>

                <div class="login-link">
                    ¬øYa tienes cuenta? <a href="#" onclick="showLogin('user')">Iniciar Sesi√≥n</a>
                </div>
            </div>

            <!-- Login Usuario -->
            <div id="user-login" class="form-section">
                <div class="user-type-indicator">
                    <h3>Iniciar Sesi√≥n - Usuario</h3>
                    <p>Accede a tu cuenta</p>
                </div>

                <form id="userLoginForm">
                    <div class="form-group">
                        <label for="userLoginEmail">Correo Electr√≥nico</label>
                        <input type="email" id="userLoginEmail" name="email" placeholder="ejemplo@correo.com" required>
                    </div>

                    <div class="form-group">
                        <label for="userLoginPassword">Contrase√±a</label>
                        <input type="password" id="userLoginPassword" name="password" placeholder="Tu contrase√±a" required>
                    </div>

                    <button type="submit" class="submit-btn">Iniciar Sesi√≥n</button>
                </form>

                <div class="login-link">
                    ¬øNo tienes cuenta? <a href="#" onclick="showRegister('user')">Crear Cuenta</a>
                </div>
            </div>
                        <!-- Agrega dentro del card de seguimiento de viaje del usuario -->
            <div class="eta-info">
                <div class="eta-display" id="etaDisplay">Calculando tiempo...</div>
                <div class="distance-display" id="distanceDisplay"></div>
            </div>
                        <div id="liveTrackingMap" class="live-tracking-map"></div>
<style>
       /* tracking-styles.css o trip-tracking-styles.css */
                        .live-tracking-map {
                            width: 100%;
                            height: 300px;
                            border-radius: 12px;
                            margin: 16px 0;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
                        }
</style>                 

            <!-- Enlace para conductores -->
            <div class="driver-link">
                <a href="#" onclick="showDriverSection()">Unirme a Blinriderd como conductor</a>
            </div>

            <!-- Formulario Conductor -->
            <div id="driver-form" class="form-section">
                <div class="user-type-indicator">
                    <h3>Registro de Conductor</h3>
                    <p>Conduce y gana dinero con nosotros</p>
                </div>

                <form id="driverRegistrationForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="driverFirstName">Nombre</label>
                            <input type="text" id="driverFirstName" name="firstName" placeholder="Tu nombre" required>
                        </div>
                        <div class="form-group">
                            <label for="driverLastName">Apellido</label>
                            <input type="text" id="driverLastName" name="lastName" placeholder="Tu apellido" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="driverEmail">Correo Electr√≥nico</label>
                        <input type="email" id="driverEmail" name="email" placeholder="ejemplo@correo.com" required>
                    </div>

                    <div class="form-group">
                        <label for="driverPhone">Tel√©fono</label>
                        <input type="tel" id="driverPhone" name="phone" placeholder="+1 (000) 000-0000" required>
                    </div>

                    <div class="form-group">
                        <label for="driverLicense">N√∫mero de Licencia</label>
                        <input type="text" id="driverLicense" name="licenseNumber" placeholder="N√∫mero de licencia de conducir" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vehicleBrand">Marca del Veh√≠culo</label>
                            <input type="text" id="vehicleBrand" name="vehicleBrand" placeholder="Toyota, Honda, etc." required>
                        </div>
                        <div class="form-group">
                            <label for="vehicleModel">Modelo</label>
                            <input type="text" id="vehicleModel" name="vehicleModel" placeholder="Corolla, Civic, etc." required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vehicleYear">A√±o</label>
                            <select id="vehicleYear" name="vehicleYear" required>
                                <option value="">Seleccionar a√±o</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2020">2020</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                                <option value="2017">2017</option>
                                <option value="2016">2016</option>
                                <option value="2015">2015</option>
                                <option value="2015">2014</option>
                                <option value="2015">2013</option>
                                <option value="2015">2012</option>
                                <option value="2015">2011</option>
                                <option value="2015">2010</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="vehicleColor">Color</label>
                            <input type="text" id="vehicleColor" name="vehicleColor" placeholder="Negro, Blanco, etc." required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="vehiclePlate">Placa del Veh√≠culo</label>
                        <input type="text" id="vehiclePlate" name="vehiclePlate" placeholder="ABC-1234" required>
                    </div>

                    <div class="form-group">
                        <label for="driverPassword">Contrase√±a</label>
                        <input type="password" id="driverPassword" name="password" placeholder="M√≠nimo 8 caracteres" required>
                    </div>

                    <div class="form-group">
                        <label for="driverConfirmPassword">Confirmar Contrase√±a</label>
                        <input type="password" id="driverConfirmPassword" name="confirmPassword" placeholder="Repite tu contrase√±a" required>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="driverTerms" class="checkbox" required>
                        <label for="driverTerms" class="checkbox-label">Acepto los t√©rminos y condiciones</label>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="backgroundCheck" class="checkbox" required>
                        <label for="backgroundCheck" class="checkbox-label">Autorizo verificaci√≥n de antecedentes</label>
                    </div>

                    <button type="submit" class="submit-btn">Solicitar Registro</button>
                </form>

                <div class="login-link">
                    ¬øYa eres conductor? <a href="#" onclick="showLogin('driver')">Iniciar Sesi√≥n</a>
                </div>
            </div>

            <!-- Login Conductor -->
            <div id="driver-login" class="form-section">
                <div class="user-type-indicator">
                    <h3>Iniciar Sesi√≥n - Conductor</h3>
                    <p>Accede a tu cuenta de conductor</p>
                </div>

                <form id="driverLoginForm">
                    <div class="form-group">
                        <label for="driverLoginEmail">Correo Electr√≥nico</label>
                        <input type="email" id="driverLoginEmail" name="email" placeholder="ejemplo@correo.com" required>
                    </div>

                    <div class="form-group">
                        <label for="driverLoginPassword">Contrase√±a</label>
                        <input type="password" id="driverLoginPassword" name="password" placeholder="Tu contrase√±a" required>
                    </div>

                    <button type="submit" class="submit-btn">Iniciar Sesi√≥n</button>
                </form>

                <div class="login-link">
                    ¬øNo tienes cuenta? <a href="#" onclick="showRegister('driver')">Crear Cuenta</a>
                </div>
            </div>
            </div>
        </div>
    </div>

    <!-- Modal para solicitar viaje -->
    <div id="rideModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Solicitar Viaje</h2>
                <span class="close" onclick="closeRideModal()">&times;</span>
            </div>
            
            <div class="ride-form">
                <div class="location-section">
                    <div class="form-group">
                        <label for="currentLocation">üìç Ubicaci√≥n actual</label>
                        <input type="text" id="currentLocation" placeholder="Obteniendo ubicaci√≥n..." readonly>
                        <button type="button" class="location-btn" onclick="getCurrentLocation()">üéØ</button>
                    </div>
                    
                    <div class="form-group">
                        <label for="destination">üìç ¬øHacia d√≥nde vas?</label>
                        <input type="text" id="destination" placeholder="Buscar destino...">
                    </div>
                </div>
                
                <div id="map" class="map-container"></div>
                
                <div id="fareInfo" class="fare-info" style="display: none;">
                    <div class="fare-details">
                        <h3>üí∞ Detalles del Viaje</h3>
                        <div class="fare-row">
                            <span>Distancia:</span>
                            <span id="tripDistance">-</span>
                        </div>
                        <div class="fare-row">
                            <span>Tarifa por KM:</span>
                            <span>RD$30.00</span>
                        </div>
                        <div class="fare-row total">
                            <span>Total:</span>
                            <span id="totalFare">RD$0.00</span>
                        </div>
                    </div>
                </div>
                
                <div class="ride-actions">
                    <button class="submit-btn" onclick="confirmRide()">Confirmar Viaje</button>
                    <button class="cancel-btn" onclick="closeRideModal()">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAoR6-zL2FzSiNTHDYclDo6nt689weOE0k&libraries=places&callback=initMap"></script>
</body>
</html>
